<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>DJ MARCHAL | Oficjalna Strona</title>
    <meta name="description" content="DJ MARCHAL - Media Społecznościowe i Kontakt">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=VT323&family=JetBrains+Mono:wght@400;700&display=swap');

        :root {
            --neon: #bc13fe;
            --neon-dim: rgba(188, 19, 254, 0.3);
            --bg: #050505;
            --text: #ffffff;
            --mario-sky: #5c94fc;
        }

        * { box-sizing: border-box; cursor: crosshair; -webkit-tap-highlight-color: transparent; }

        body {
            margin: 0; padding: 0;
            background-color: var(--bg);
            color: var(--text);
            font-family: 'JetBrains Mono', monospace;
            display: flex; justify-content: center; align-items: center;
            min-height: 100vh; overflow: hidden; position: relative;
        }

        /* TŁO MARIO */
        .mario-bg {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-image: url('https://user-images.githubusercontent.com/1832783/48508535-46f90300-e837-11e8-963d-4299b646c10e.png'); 
            background-repeat: repeat-x;
            background-size: auto 100%;
            background-position: bottom;
            background-color: var(--mario-sky);
            image-rendering: pixelated;
            opacity: 0.25; 
            z-index: -2;
            animation: scrollBackground 120s linear infinite;
        }

        @keyframes scrollBackground {
            from { background-position: 0 bottom; }
            to { background-position: -3000px bottom; }
        }

        /* EKRAN POWITALNY */
        #splash-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: black; z-index: 1000;
            display: flex; justify-content: center; align-items: center;
            flex-direction: column; cursor: pointer;
            transition: opacity 0.8s ease, visibility 0.8s;
        }

        #typing-text {
            font-family: 'VT323', monospace;
            font-size: 2.5rem;
            color: var(--neon);
            letter-spacing: 4px;
            border-right: 3px solid var(--neon);
            padding-right: 10px;
            text-shadow: 0 0 10px var(--neon);
        }

        /* GŁÓWNA ZAWARTOŚĆ */
        #main-wrapper { 
            display: none; opacity: 0; transition: opacity 1s ease; 
            width: 100%; height: 100vh; justify-content: center; align-items: center;
            position: relative;
        }

        .grid-bg {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background-image: 
                linear-gradient(0deg, transparent 24%, var(--neon-dim) 25%, var(--neon-dim) 26%, transparent 27%, transparent 74%, var(--neon-dim) 75%, var(--neon-dim) 76%, transparent 77%, transparent),
                linear-gradient(90deg, transparent 24%, var(--neon-dim) 25%, var(--neon-dim) 26%, transparent 27%, transparent 74%, var(--neon-dim) 75%, var(--neon-dim) 76%, transparent 77%, transparent);
            background-size: 60px 60px;
            z-index: -1; transform: perspective(500px) rotateX(60deg);
            transform-origin: center bottom; animation: moveGrid 3s linear infinite;
        }

        @keyframes moveGrid { 
            from { background-position: 0 0; } 
            to { background-position: 0 60px; } 
        }

        .crt-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%), 
                        linear-gradient(90deg, rgba(255, 0, 0, 0.03), rgba(0, 255, 0, 0.01), rgba(0, 0, 255, 0.03));
            background-size: 100% 3px, 3px 100%;
            pointer-events: none; z-index: 100;
        }

        .card {
            width: min(450px, 95%); 
            background: rgba(5, 5, 5, 0.85);
            border: 2px solid var(--neon); 
            box-shadow: 0 0 40px rgba(188, 19, 254, 0.2);
            padding: 30px 20px; text-align: center; z-index: 10;
            backdrop-filter: blur(10px);
        }

        .pfp {
            width: 100px; height: 100px; border: 2px solid var(--neon);
            margin: 0 auto 15px; overflow: hidden;
            box-shadow: 0 0 20px var(--neon); background: #111;
        }
        .pfp img { width: 100%; height: 100%; object-fit: cover; }

        .name {
            font-family: 'VT323', monospace; font-size: 38px; color: var(--neon);
            text-transform: uppercase; margin-bottom: 20px; letter-spacing: 4px;
            text-shadow: 2px 2px 0px #00fff9;
        }

        /* STEROWANIE MUZYKĄ */
        .audio-controls {
            background: rgba(188, 19, 254, 0.1);
            border: 1px solid var(--neon);
            padding: 15px;
            margin-bottom: 25px;
            border-radius: 4px;
        }

        .track-info {
            font-size: 11px;
            text-transform: uppercase;
            margin-bottom: 10px;
            color: var(--neon);
            overflow: hidden;
            white-space: nowrap;
            letter-spacing: 1px;
            font-weight: bold;
        }

        .control-btns {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 10px;
        }

        .ctrl-btn {
            background: none;
            border: none;
            color: var(--text);
            cursor: pointer;
            transition: color 0.2s, transform 0.1s;
        }

        .ctrl-btn:hover { color: var(--neon); }
        .ctrl-btn:active { transform: scale(0.9); }

        .volume-slider {
            width: 80%;
            height: 4px;
            accent-color: var(--neon);
            cursor: pointer;
        }

        /* LINKI */
        .links { display: flex; flex-direction: column; gap: 12px; }

        .btn {
            background: transparent; border: 1px solid var(--neon); color: #fff;
            padding: 12px; text-decoration: none; font-weight: bold;
            display: flex; align-items: center; gap: 12px; transition: all 0.3s;
            text-transform: uppercase; font-size: 13px; cursor: pointer;
            justify-content: center; font-family: 'JetBrains Mono', monospace;
        }

        .btn:hover {
            background: var(--neon); color: #000;
            box-shadow: 0 0 25px var(--neon); 
        }

        .btn-copy { border-style: dashed; margin-top: 5px; opacity: 0.7; font-size: 11px; }

        #notification {
            position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%);
            background: var(--neon); color: black;
            padding: 8px 20px; font-weight: bold; 
            display: none; z-index: 200;
            box-shadow: 0 0 15px var(--neon);
        }

        @media (max-width: 480px) {
            .name { font-size: 32px; }
            .card { padding: 20px 15px; }
        }
    </style>
</head>
<body>

    <div class="mario-bg"></div>

    <audio id="bg-music"></audio>

    <div id="splash-screen" onclick="startSite()">
        <div id="typing-text"></div>
    </div>

    <div id="main-wrapper">
        <div class="grid-bg"></div>
        <div class="crt-overlay"></div>

        <main class="card">
            <header>
                <div class="pfp">
                    <img src="https://i.imgur.com/lm9rLcE.jpg" alt="DJ MARCHAL" onerror="this.src='https://via.placeholder.com/120?text=DJ'"/>
                </div>
                <div class="name">DJ MARCHAL</div>
            </header>

            <!-- Odtwarzacz Muzyki -->
            <section class="audio-controls">
                <div class="track-info" id="track-name">Wczytywanie...</div>
                <div class="control-btns">
                    <button class="ctrl-btn" onclick="prevTrack()" title="Poprzedni">
                        <i data-lucide="skip-back"></i>
                    </button>
                    <button class="ctrl-btn" onclick="togglePlay()" id="play-pause-btn" title="Graj/Pauza">
                        <i data-lucide="play"></i>
                    </button>
                    <button class="ctrl-btn" onclick="nextTrack()" title="Następny">
                        <i data-lucide="skip-forward"></i>
                    </button>
                </div>
                <input type="range" class="volume-slider" min="0" max="1" step="0.01" value="0.5" oninput="changeVolume(this.value)">
            </section>

            <section class="links">
                <a class="btn" href="https://www.tiktok.com/@motomarchal" target="_blank" onmouseenter="beep(400)">
                    <i data-lucide="video"></i> TikTok
                </a>
                <a class="btn" href="https://www.youtube.com/@enduromarchal" target="_blank" onmouseenter="beep(450)">
                    <i data-lucide="youtube"></i> YouTube
                </a>
                <button class="btn" onclick="copyDiscord()" onmouseenter="beep(500)">
                    <i data-lucide="message-square"></i> Discord
                </button>
                <a class="btn" href="https://tipply.pl" target="_blank" onmouseenter="beep(600)">
                    <i data-lucide="wallet"></i> Wesprzyj (Tipply)
                </a>
                <button class="btn btn-copy" onclick="copyPageLink()" onmouseenter="beep(800)">
                    <i data-lucide="share-2"></i> Kopiuj link do strony
                </button>
            </section>
        </main>
    </div>

    <div id="notification">SKOPIOWANO!</div>

    <script>
        lucide.createIcons();

        // Zaktualizowana playlista z nazwami utworów Lady Pank
        const playlist = [
            { name: "Lady Pank - Zamki na piasku", url: "https://files.catbox.moe/1iac7z.mp3" },
            { name: "Lady Pank - Mniej niż zero", url: "https://files.catbox.moe/2fr6fq.mp3" }
        ];
        
        let currentTrackIdx = 0;
        const music = document.getElementById('bg-music');
        const playPauseBtn = document.getElementById('play-pause-btn');
        const trackNameDisplay = document.getElementById('track-name');
        let audioCtx = null;

        function loadTrack(idx) {
            currentTrackIdx = idx;
            music.src = playlist[currentTrackIdx].url;
            trackNameDisplay.innerText = playlist[currentTrackIdx].name;
            music.load();
        }

        function togglePlay() {
            if (music.paused) {
                music.play();
                playPauseBtn.innerHTML = '<i data-lucide="pause"></i>';
            } else {
                music.pause();
                playPauseBtn.innerHTML = '<i data-lucide="play"></i>';
            }
            lucide.createIcons();
            beep(600);
        }

        function nextTrack() {
            currentTrackIdx = (currentTrackIdx + 1) % playlist.length;
            loadTrack(currentTrackIdx);
            music.play();
            playPauseBtn.innerHTML = '<i data-lucide="pause"></i>';
            lucide.createIcons();
            beep(700);
        }

        function prevTrack() {
            currentTrackIdx = (currentTrackIdx - 1 + playlist.length) % playlist.length;
            loadTrack(currentTrackIdx);
            music.play();
            playPauseBtn.innerHTML = '<i data-lucide="pause"></i>';
            lucide.createIcons();
            beep(500);
        }

        function changeVolume(val) {
            music.volume = val;
        }

        function initAudio() {
            if (!audioCtx) {
                audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            }
        }

        function beep(freq) {
            if (!audioCtx) return;
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.type = 'square';
            osc.frequency.setValueAtTime(freq, audioCtx.currentTime);
            gain.gain.setValueAtTime(0.01, audioCtx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 0.1);
            osc.connect(gain);
            gain.connect(audioCtx.destination);
            osc.start();
            osc.stop(audioCtx.currentTime + 0.1);
        }

        const splashText = "SYSTEM READY. CLICK TO START.";
        let charIndex = 0;
        const typingElement = document.getElementById('typing-text');

        function typeSplash() {
            if (charIndex < splashText.length) {
                typingElement.innerHTML += splashText.charAt(charIndex);
                charIndex++;
                setTimeout(typeSplash, 70);
            }
        }
        window.onload = () => {
            loadTrack(0);
            typeSplash();
        };

        function startSite() {
            initAudio();
            music.volume = 0.5;
            music.play().then(() => {
                playPauseBtn.innerHTML = '<i data-lucide="pause"></i>';
                lucide.createIcons();
            }).catch(e => console.log("Play blocked"));

            const splash = document.getElementById('splash-screen');
            const main = document.getElementById('main-wrapper');
            
            splash.style.opacity = '0';
            setTimeout(() => {
                splash.style.visibility = 'hidden';
                main.style.display = 'flex';
                setTimeout(() => { main.style.opacity = '1'; }, 50);
            }, 800);
        }

        function showNote(text) {
            const note = document.getElementById('notification');
            note.innerText = text;
            note.style.display = 'block';
            setTimeout(() => { note.style.display = 'none'; }, 2000);
        }

        function copyDiscord() {
            const el = document.createElement('textarea');
            el.value = 'marchalyt';
            document.body.appendChild(el);
            el.select();
            document.execCommand('copy');
            document.body.removeChild(el);
            beep(1000);
            showNote('DISCORD SKOPIOWANY!');
        }

        function copyPageLink() {
            const el = document.createElement('textarea');
            el.value = window.location.href;
            document.body.appendChild(el);
            el.select();
            document.execCommand('copy');
            document.body.removeChild(el);
            beep(1200);
            showNote('LINK SKOPIOWANY!');
        }

        // Auto-play next track
        music.onended = () => nextTrack();
    </script>
</body>
</html>
